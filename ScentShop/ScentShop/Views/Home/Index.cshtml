@model HomeViewModel

<div class="banner-container">
    <div class="banner-header">
        <h2>Dior</h2>
        <h3>J'ADORE</h3>
    </div>
    <div class="banner-image"></div>
    <div class="banner-description">
        <h3 class="banner-price">$135</h3>
        <p>Finely crafted and tuned to the last detail like a custom-made flower, J'adore brings in the most beautiful flowers from around the world in its composition.</p>
        <a asp-controller="Perfume" asp-action="Details" asp-route-id="3" class="bt bt--main bt--animated">Buy now</a>

    </div>
</div>
<div class="divider">
    <h3 class="divider-text">Best Sellers</h3>
</div>

<br />
<br />
<br />
<br />

<div class="container" data-aos="fade">
    <div class="row">
        @foreach (var perfume in Model.PerfumesOfTheWeek)
        {
            <div class="col-lg-4 col-md-12 col-sm-12 cardindex-col">
                <div class="cardindex">
                    <div class="cardindex-side cardindex-side--front">
                        <div class="cardindex-bg">
                            <img class="cardindex-picture" src="@perfume.ImageUrl" alt="Best sellers" />
                        </div>
                        <h3 class="perfume-name">@perfume.Name</h3>
                        <h4 class="perfume-brand">@perfume.Brand</h4>
                        <hr class="card-divider" />
                        <div class="cardindex-details">
                            <ul>
                                <li>@perfume.Capacity ml</li>
                                <li>@perfume.Category.CategoryName</li>
                                <li>@perfume.KeyNotes</li>
                            </ul>
                        </div>
                    </div>

                    <div class="cardindex-side cardindex-side--back">
                        <div class="cardindex-cta">
                            <div class="cardindex-pricebox">
                                <p class="price-only">Only</p>
                                <p class="price-value">$@perfume.Price.ToString("0.######")</p>
                            </div>
                            <a class="bt bt--outlined" asp-controller="Perfume" asp-action="Details" asp-route-id="@perfume.Id">Buy now</a>
                        </div>
                    </div>
                </div>
            </div>
        }
    </div>
</div>

<br />
<br />

<div class="divider">
    <h3 class="divider-text">Our Clients</h3>
</div>


<br />
<br />

<div class="testimonials-container" data-aos="fade">
    <div class="progress-bar"></div>
    <div class="fas fa-quote-right fa-quote"></div>
    <div class="fas fa-quote-left fa-quote"></div>
    <p class="testimonial">
        I had no idea that my favorite vintage perfumes were still available, and at such good prices. I just discovered this website a couple of weeks ago thanks to my friend, and I've already placed two orders.
    </p>
    <div class="user">
        <img src="/images/testimonial-1.png"
             alt="user"
             class="user-img" />
        <div class="user-details">
            <p class="user-name">Liv Jensen</p>
            <p class="country">Norway</p>
        </div>
    </div>
</div>

<script>
    const testimonialsContainer = document.querySelector('testimonials-container');
    const testimonial = document.querySelector('.testimonial');
    const userImg = document.querySelector('.user-img');
    const userName = document.querySelector('.user-name');
    const userCountry = document.querySelector('.country');

    const testimonialsStorage = [
        {
            name: 'Liv Jensen',
            country: 'Norway',
            photo:
                'https://res.cloudinary.com/do0ohxztp/image/upload/v1619433279/testimonials/testimonial-1_aiezoy.png',
            text:
                "I had no idea that my favorite vintage perfumes were still available, and at such good prices. I just discovered this website a couple of weeks ago thanks to my friend, and I've already placed two orders.",
        },
        {
            name: 'Todd Holmes',
            country: 'Canada',
            photo:
                'https://res.cloudinary.com/do0ohxztp/image/upload/v1619433279/testimonials/testimonial-2_w97wpy.png',
            text:
                "Wanted to get my wife her favorite perfume for her birthday. I found it here at a good price and received great service. I ordered on a Friday and received Monday! I'm extremely pleased and will definitely buy from here again.",
        },
        {
            name: 'Maria Rossi',
            country: 'Italy',
            photo:
                'https://res.cloudinary.com/do0ohxztp/image/upload/v1619433279/testimonials/testimonial-3_hapv6w.png',
            text:
                'I had a confirmation order within minutes of placing my order and a few hours later an update stating my order was package and being shipped. My experience was fantastic for first time ordering!',
        },
        {
            name: 'Karl Weber',
            country: 'Germany',
            photo:
                'https://res.cloudinary.com/do0ohxztp/image/upload/v1619433279/testimonials/testimonial-4_ct0f9a.png',
            text:
                "Always a pleasure to purchase from your store. Have never been disappointed with the perfume I've ordered. Great shipping time, packaging and contact with the client. Thank you for your services!",
        },
    ];

    let indx = 1;

    function updateTestimonial() {
        // Pulling data from the testimonialsStorage, depending on current index
        const { name, country, photo, text } = testimonialsStorage[indx];

        userName.innerHTML = name;
        userCountry.innerHTML = country;
        userImg.src = photo;
        testimonial.innerHTML = text;

        indx++;

        if (indx > testimonialsStorage.length - 1) {
            indx = 0;
        }
    }

    setInterval(updateTestimonial, 10000);
</script>